https://coursehunter.net/course/devsecops-bootcamp?lesson=49
# Отличия ролей от пользователей в AWS IAM

В AWS IAM (Identity and Access Management)пользователи** и **роли** имеют разные назначения и используются в различных сценариях. Вот основные отличия:

## 1. Определение

- **Пользователь (User)**: Это учетная запись, которая представляет человека или сервис, требующий доступ к AWS. У пользователя есть свои собственные учетные данные, включая доступ к ключам, паролям и многофакторной аутентификации (MFA).

- **Роль (Role)**: Это специальная учетная запись AWS IAM с определенными правами, которая может быть временно принятой другими пользователями, сервисами или приложениями. Роли не имеют постоянных учетных данных. Вместо этого они создают временные учетные данные, когда их принимают.

## 2. Учетные данные

- **Пользователь**: У пользователей есть постоянные учетные данные (Access Key ID и Secret Access Key), которые они используют для аутентификации при взаимодействии с AWS.

- **Роль**: Роли предоставляют временные учетные данные при их активации, что повышает безопасность, поскольку не имеет постоянных ключей доступа, которые могут быть скомпрометированы.

## 3. Назначение

- **Пользователь**: Пользователи часто создаются для людей или сервисов, которые требуют постоянного доступа к AWS ресурсам.

- **Роль**: Роли лучше всего использовать в ситуациях, когда доступ необходимо предоставлять временно или динамически. Например, можно использовать роли для предоставления доступов к AWS сервисам, авторазворачиваемым приложениям или другому AWS ресурсу, когда они этого требуют.

## 4. Долгосрочные vs. Временные данные

- **Пользователь**: Данные об учетных записях пользователя часто являются долгосрочными. Их изменение может потребовать ручного вмешательства, особенно если учетные данные злоупотребляются.

- **Роль**: Данные о ролях являются временными, и они автоматически обновляются при изменении настроек или при активации.

### Когда лучше использовать роль?

1. **При работе с AWS сервисами**: Если у вас есть сервис (например, AWS Lambda или EC2), который должен получить доступ к другим ресурсам AWS, правильнее использовать роли. Роли могут быть явно ассоциированы с EC2 инстансами или Lambda функциями, что позволяет им получать необходимый доступ автоматически.

2. **При необходимости в делегировании доступа**: Если пользователю или сервису нужно временно получить доступ к ресурсам AWS (например, при выполнении операций от имени другого пользователя), роли предоставляют простой способ такой делегации.

3. **Для сторонних приложений**: Роли удобны, если вам требуется предоставлять доступ к вашим ресурсам от имени сторонних сервисов (например, при интеграции с CI/CD инструментами).

### Пример использования ролей

Предположим, у вас есть **Amazon EC2** инстанс, который должен взаимодействовать с **Amazon S3**, чтобы загружать и загружать файлы. Вместо того, чтобы создавать IAM пользователя с доступом к S3 и прописывать его учетные данные на инстансе, вы можете:

1. Создать IAM роль с необходимыми правами для доступа к S3.
2. Привязать эту роль к вашему EC2 инстансу при его создании или обновлении.
3. Когда ваш EC2 инстанс обращается к S3, он автоматически получает временные учетные данные, позволяющие ему выполнять требуемые операции.

Таким образом, вы избегаете управления постоянными учетными данными (которые потенциально могут быть скомпрометированы) и обеспечиваете необходимый доступ только на время существования инстанса.

### Заключение

- **Пользователи**: подойдут для людей или сервисов с постоянным доступом.
- **Роли**: лучше использовать для временных или автоматизированных сценариев, что повышает безопасность и гибкость доступа.

Если у вас есть еще вопросы или вам нужно больше деталей, дайте знать!