## Security middleware:
https://coursehunter.net/course/devsecops-bootcamp?lesson=58

Файл - https://gitlab.com/devsecops-bootcamp2/juice-shop-github/-/blob/main/server.ts?ref_type=heads

### 1) Что такое middleware в файле server.ts вашего проекта?

Middleware в Express.js (а также в других веб-приложениях) — это функции, которые имеют доступ к объекту запроса, объекту ответа и функции следующего middleware в цикле обработки запросов. Они могут выполнять различные задачи, такие как:

- Обработка запросов и ответов
- Валидация данных
- Логирование
- Обработка ошибок
- Реализация обеспечения безопасности, как в вашем примере с использованием библиотеки helmet.

В вашем `server.ts` файле, middleware используется для повышения безопасности приложения, как это видно из приведённых строк кода, использующих библиотеку helmet.

### 2) Зачем нужен файл server.ts?

Файл `server.ts` служит основной точкой входа для вашего приложения на Node.js с использованием Express.js. Он обычно выполняет следующие функции:

- **Инициализация приложения**: Создание экземпляра приложения Express и настройка его.
- **Конфигурация маршрутов**: Определение и регистрация маршрутов (routes) и обработчиков запросов.
- **Настройка middleware**: Подключение middleware для обработки запросов, управления сессиями, логирования, безопасности и других задач.
- **Запуск сервера**: Настройка и запуск сервера на определенном порту, что позволяет ему слушать входящие соединения.

### 3) Что делают строки 

```javascript
app.use(helmet.noSniff())
app.use(helmet.frameguard())
```

- **`app.use(helmet.noSniff())`**:
  - Эта middleware функция устанавливает заголовок HTTP `X-Content-Type-Options: nosniff` в ответах вашего сервера. Это предотвращает так называемую "автоматическую подмену" типа содержимого, когда браузеры могут интерпретировать содержимое ответа как другой тип (например, выполняя JavaScript вместо чтения как текст). Это особенно важно для защиты от уязвимостей, когда злоумышленники могут попытаться ввести вредоносные скрипты.

- **`app.use(helmet.frameguard())`**:
  - Эта middleware функция защищает ваше приложение от атак "clickjacking". Она добавляет заголовок HTTP `X-Frame-Options`, который запрещает встраивание вашего сайта в фреймы на других сайтах. Это предотвращает возможность злоумышленников обмануть пользователей, заставляя их взаимодействовать с неожиданными элементами пользовательского интерфейса. По умолчанию это ограничивает встраивание вашего сайта в фреймы, но можно настроить заголовок для использования, например, `'sameorigin'` (чтобы допустить встраивание только с того же домена) или `'deny'`, чтобы полностью запретить встраивание.

Таким образом, эти middleware функции направлены на повышение безопасности вашего веб-приложения, защищая его от определённых уязвимостей и атак.